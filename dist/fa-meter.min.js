angular.module("ah.meter",["famous.angular"]).directive("faMeter",function(a,e,i){return{templateUrl:"templates/fa-meter.html",restrict:"E",scope:{value:"=",max:"=",min:"=?",text:"=?",options:"=?"},link:function(t){var o,r,n;return t.min||(t.min=0),t.max||(t.max=1),r={color:"#81BB84",fade:.21,height:6,layout:"none",label:!1,labelPosition:"top",duration:500,segmented:!1,segmentColor:"#FFFFFF"},t.options=angular.extend(r,t.options),void 0===t.value&&console.error("[fa-meter] you didn't pass in \"value\" so i've got nothing to display."),o=a["famous/transitions/Transitionable"],t.dividers=function(){n=[];for(var a=0,e=t.max;e>=0?e>a:a>e;e>=0?a++:a--)n.push(a);return n}.apply(this),t.gridOptions={dimensions:[t.dividers.length,1],gutterSize:[0,0]},t.progress=new o(0),t.value||(t.value=0),t.labelFade=new o(0),t.$watch("options.label",function(a){return a?t.labelFade.set(1,{duration:300}):t.labelFade.set(0,{duration:300})}),t.timeline={indicator:{rotate:e([[0,Math.PI],[1,0]]),opacity:e([[.25,0],[1,1]]),translate:e([[0,[0,5,0]],[1,[0,0,0]]])},label:{rotate:e([[0,Math.PI/4],[1,0]]),opacity:e([[.35,0],[1,1]]),translate:e([[0,[0,10,0]],[1,[0,0,0]]])}},t.layouts={indicator:{translate:{top:[0,-18,0],bottom:[0,17,0]},rotate:{top:0,bottom:Math.PI}},value:{translate:{top:[0,-36,0],bottom:[0,36,0]}},guide:{top:1,bottom:0}},t.$watch("value",function(){var a;return a=t.value/t.max,a>1&&(a=1),0>a&&(a=0),t.progress.halt(),t.progress.set(a,{duration:t.options.duration,curve:"easeOut"}),i(t.setLabel,.8*t.options.duration)}),t.setLabel=function(){return t.labelText=t.text?t.text:t.value},t.setLabel()}}}),angular.module("ah.meter").run(["$templateCache",function(a){a.put("templates/fa-meter.html",'<fa-app zfa-perspective="70" class="wrapper"><fa-modifier fa-opacity="options.fade" fa-size="[undefined,{{options.height}}]" fa-origin="[0,{{layouts.guide[options.labelPosition]}}]" fa-align="[0,{{layouts.guide[options.labelPosition]}}]"><fa-surface fa-background-color="options.color" class="faded"></fa-surface></fa-modifier><fa-modifier ng-if="options.segmented" fa-origin="[0,{{layouts.guide[options.labelPosition]}}]" fa-align="[0,{{layouts.guide[options.labelPosition]}}]" fa-size="[undefined, {{options.height}}]"><fa-grid-layout fa-options="gridOptions"><fa-modifier ng-repeat="divider in dividers" fa-size="[2,{{options.height}}]" fa-origin="[1,0]" fa-align="[1,0]"><fa-surface fa-background-color="options.segmentColor" ng-if="$index != dividers.length - 1" class="seperator"></fa-surface></fa-modifier></fa-grid-layout></fa-modifier><fa-modifier fa-proportions="[progress.get(),1]" fa-size="[undefined,{{options.height}}]" fa-origin="[0,{{layouts.guide[options.labelPosition]}}]" fa-align="[0,{{layouts.guide[options.labelPosition]}}]"><fa-surface fa-background-color="options.color" class="fill"></fa-surface></fa-modifier><fa-modifier fa-origin="[0.5,1]" fa-align="[progress.get(),{{layouts.guide[options.labelPosition]}}]" fa-translate="layouts.indicator.translate[options.labelPosition]" fa-size="[true,true]"><fa-modifier fa-translate="timeline.indicator.translate(labelFade.get())" fa-origin="[0.5,0.5]"><fa-modifier fa-origin="[0.5,0.5]" fa-align="[0.5,0.5]" fa-rotate-z="layouts.indicator.rotate[options.labelPosition]" fa-opacity="timeline.indicator.opacity(labelFade.get())" fa-perspective="70"><fa-modifier fa-origin="[0.5,0.5]" fa-rotate-x="timeline.indicator.rotate(labelFade.get())"><fa-surface fa-size="[true,true]"><div ng-style="{borderTopColor: options.color}" class="meter-arrow"></div></fa-surface></fa-modifier></fa-modifier></fa-modifier></fa-modifier><fa-modifier fa-origin="[0.8 * progress.get() + 0.15,1]" fa-align="[progress.get(),{{layouts.guide[options.labelPosition]}}]" fa-translate="layouts.value.translate[options.labelPosition]"><fa-modifier fa-translate="timeline.label.translate(labelFade.get())"><fa-modifier fa-opacity="timeline.label.opacity(labelFade.get())" fa-rotate-x="timeline.label.rotate(labelFade.get())" fa-perspective="70"><fa-surface fa-size="[true,10]" class="value">{{text || value}}</fa-surface></fa-modifier></fa-modifier></fa-modifier></fa-app>')}]);